env:
  global:
  - secure: qHd7UuQva4R69AlxAk4VVOPb5na76XdsSXABnSKIFAxlb+PMgsVWRCwSojM6uexHJjfR3Uq3qR1b3fno86T1ed3SJe9oKWV/ynk6vzqUXiGL25uigSVyvmrjotDe6TKSDJjyH8s95T/L+/Cr1bEkzCamWHTPGViQGACbNQezO6KhmKY+a5zeQnOLkm8jzQ6Ano7JRfp/nS6RSjYAhdAevG9621EqGj45atPDdtdZ9W5vmVV33h3z8f44FDIxja3Eb7+Ydpqe5hW8tMCtK+a45SFmrT7Fbk5Q1sl5gQKf+uDD60xsX6yCX5RnL7HCyTYNfeBnaPufrLj1vfIBcVH8hoS6TcFQRq7opsBlZ9WonrKyHEjVqQsXGSmz5WfuHI+cyFgNzNuAXXHV9NNx5b/yD7AfS3ZyUe4GMbmvJIJm8KGyRQXM3Mt+aOkz3X47aDgsTuxmkn8ugfQ1jEVMfFAmzJ9QEA9BikP/MTse2SllKd6jo7588O0tkwLnJtyGhuTJKY7xrwc/2AwQtdoxNOl0/tYhiu1j4FjqFZSWz44uBDYVWQ9HIjr2y7Q5pXD1CInHeax+1MxYPTD9zSykGtWx5O7fh+KoMD7nveg2ZuOoEg5BVhGVW5e2khHBrinZYL9tqL+C8CBlZAQPKYk/4+UpFmWjGcGUdJeR17jZU08aB8s=
  - secure: NrdLsyinKpG6gYtuQP0MhntXN/qc/sGXeKQF77792LSihq1BHJPjmbhSrl0Lw6D/78BhdSiMW+ubUBWRKKsQ/9NH1ptaE6pLeW+tIJ+dnzGuD47FsIsJPR+3cO6jqXR0lfKMxYKgMfqrVlGY/7YZDtb8CzS5856ug1q36sA41IMUcGg8e196lGhOmwRF7nVM/QlIl6qHEOMxXQEiG/vD2LIRY9gwtSgihowbK7jPdTtOhuNEN5ddXqJB/HC4ighrQuI4sX4G3oN93p0RRlXJx1BaF4bCVNjeQRWHIzGyvz69vsSQdPiW7J2iD9u09OcQVPbgnQ1Ergq6dUzCpgRMXSFqVh4BBXzwTXKZVMxCUhxG2dUcluCPu0T5ZVWZYWJ4+hK3zumRmlJcbiDYv1cNkWTIRcuDRVDeuchMEHcMWrQNLjhEIGYQhWywp+s8OmG8Zj0q1LxmyT+PLCIvohuiy3Y2mVu2hU608kWDLRfT5z2nVwni2AFJzwImOuFsmaU8zwEsvg8wdHJuH6NBtjBMAvSIl9T6cdYF7/KEE8Wzlict7Nb6ksDn/tPZg+yhbZkduwviZcamgRbUm80sjL5M6Pl76reuUUC78sc8zp3xZYmXsU6J/fHzf1+nmji/VtomPqilgQUyx5Brx6IppnW9jZ02222VoG7i3h6ZBcP2hPc=
  - secure: o2gRIP6QO8xpjdxm6s1/+qCjS/5s/PqznBLq/79INzQvswXwtj+N8kBdzqYndKkRdzZnW1CLF/JJSneDOjzwGRGd6W+EmmWc80CfSyn0bNfZjwo11n9gOa6Ooc98iJ6obZNpIuPtHryjgHK4yTO1CPVg7nzZ7FS2CWIwaIfVMu2Dlgn4irm9FJKQT2umpwviyl8rQ7hcgL2e5P4xsQMR+jCWuyQLa5YgF+Lp1RVdaljWMy1hpcOKEoR6XY0kRTA37o6ziI/hAo8M4Y8+Kn9rM0/2bsA5mdhREgGVi4Wgojj2rPcpf9JfPoeAExwJY5gl76nCtd4Rto/kCaqQZFZz1Pg+3lOt1HLESDWkf35igFFmgoR3tG6ahANz1Vftxmsh5/Ni9Dba0eKIpny1oYJbnfzWm1w9y1lv0gIe2wvti8cBjaweTIjw9Gsd7qeyzENMB7TTr0cWhOJM+HE71T/tJZXrBKLEbjAcr6b+8lwShPKeBaVStZnoA3LQTNjlH+IIjMUHqxgZhBXCAK+O5OYiLNq561qEMR9Akb9LrNEwrJP4HcWvyMdph8PYYqqDx6DcwEbDTcsdfbd/NzNkGJmHrkuPUhWl4So96LD69DHSKifq6+MN34T0mvrJiiirCbO9HmVnIEEABbuu2k411X+Jagbz2veKgcRy46B6cDsy/Jo=
before_install:
- docker login --username=$DOCKER_HUB_USERNAME --password=$DOCKER_HUB_PASSWORD
- openssl aes-256-cbc -K $encrypted_7b68cc82e298_key -iv $encrypted_7b68cc82e298_iv
  -in deploy_key.enc -out ./deploy_key -d
- docker build -t sebdechant/battletris .
script:
- docker push sebdechant/battletris
deploy:
  provider: script
  skip_cleanup: true
  script: chmod 600 deploy_key && ssh -o StrictHostKeyChecking=no -i deploy_key ubuntu@52.57.144.103
    ./deploy.sh
  on:
    branch: master
